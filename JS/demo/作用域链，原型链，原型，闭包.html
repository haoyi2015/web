<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>

<body>
    <script type="text/javascript">
	    function fun(n, o) {
	        console.log(o)
	        return {
	            fun: function(m) {
	                return fun(m, n);
	            }
	        };
	    }
	    /*var a = fun(0);  // 执行第一步 console.log(o) undefined
	    a.fun(1); // n-0 m-1 输出0
	    a.fun(2); // n-0 m-2 输出0
	    a.fun(3); // n-0 m-3 输出0*/



	    //var b = fun(0).fun(1).fun(2).fun(3); // 0 

	    var c = fun(0).fun(1); //undefined 0
	    c.fun(2); // 1
	    c.fun(3); //1
	    //问:三行a,b,c的输出分别是什么？


	    // 最内层的return出去的fun函数不是第二层fun函数，是最外层的fun函数


	    /*
			作用域链
	    */
	    var name ="一个栗子"
		function funs(){
		    console.log(name)
		    var name = "fun内的一个栗子"
		    console.log(name)
		    function fun1(){
		        var name = "fun1内的一个栗子"
		        console.log(name)
		    }
		    fun1()
		}
        funs()

        /**
         * 原型链
         * 原型链是用于查找引用类型（对象）的属性，查找属性会沿着原型链依次进行，如果找到该属性会停止搜索并做相应的操作，否则将会沿着原型链依次查找直到结尾。常见的应用是用在创建对象和继承中。
         * 也就是原型链是对了构造函数的
        */
        function y() {}
        y.prototype.name = '一个栗子'
        var u = new y()
        console.log(u.name)
        
        /**
         * 闭包
         * 是一个能够读取其他函数内的变量的函数，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成（定义在一个函数内部的函数），可以理解为——————闭包就是将函数内部和函数外部连接起来的一座桥梁
        */

        function a(){
            var name = '1111'
            function b() {
                console.log(name)
            }
            return b
        }
        var c = a()
            c()
    </script>
</body>

</html>